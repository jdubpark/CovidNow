!function(t){var e={};function o(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=13)}([function(t,e,o){"use strict";o.r(e),o.d(e,"formatDate",(function(){return a})),o.d(e,"commas",(function(){return n})),o.d(e,"percent",(function(){return c}));var r=o(1);function a(t,e=!0){const o=new Date(t),a=o.getMonth(),n=o.getDate();if(!e)return`${r.long[a]} ${n}`;let c=o.getHours(),s=o.getMinutes(),i=c>=12?"pm":"am";c%=12,c=c||12,s=s<10?"0"+s:s;const l=`${c}:${s} ${i}`;return`${r.short[a]} ${n}, ${l}`}function n(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function c(t,e,o=2){let r;return r="number"!=typeof num||"number"!=typeof e?Number(t)/Number(e)*100:t/e*100,isFinite(r)?r.toFixed(o):void 0}},function(t){t.exports=JSON.parse('{"short":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"long":["January","February","March","April","May","June","July","August","September","October","November","December"]}')},,,,,,,,,function(t,e,o){var r=o(14),a=o(15),n=o(16),c=o(18);t.exports=function(t,e){return r(t)||a(t,e)||n(t,e)||c()}},function(t){t.exports=JSON.parse('{"Iran (Islamic Republic of)":"Iran","occupied Palestinian territory":"Palestine","Democratic Republic of the Congo":"DR Congo","Republic of Korea":"South Korea","Korea, South":"South Korea","Democratic Republic of Korea":"North Korea","Republic of Moldova":"Moldova","Russian Federation":"Russia","United Arab Emirates":"UAE","United Kingdom":"UK"}')},,function(t,e,o){"use strict";o.r(e);var r=o(10),a=o.n(r),n=o(0),c=o(11),s=(Object.keys(c),{global:{},usa:{}});function i(t){var e=t.lat,o=t.lng,r=t.info,a=t.cases;e||o?$("#you-search-invalid").removeClass("show"):$("#you-search-invalid").addClass("show"),$("#you-search-lat val").text(e),$("#you-search-long val").text(o);var n=r.county,c=r.state;$("#geoloc-county-name").text(n),$("#geoloc-state-name span").text(c),$("#geoloc-county .confirmed .num").text(a.county.confirmed),$("#geoloc-county .deaths .num").text(a.county.deaths),$("#geoloc-state .confirmed .num").text(a.state.confirmed),$("#geoloc-state .deaths .num").text(a.state.deaths)}var l=!1;function u(){if(l)return!1;l=!0;var t=$("#you-search-bar").val();$("#you-search-btn").addClass("disabled"),$("#you-search-invalid").removeClass("show"),$("#you-search-lat val").html("locating..."),$("#you-search-long val").html("locating...");var e=$.ajax({method:"GET",url:"https://covidnow.com/api/v1/local/finder",data:{address:t},dataType:"json"});e.done((function(t){l=!1,$("#you-search-btn").removeClass("disabled"),i(t)})),e.fail((function(t,e,o){return console.error(t,e,o)}))}!function(t){t("#you-search-bar").keydown((function(t){13==t.keyCode&&u()})),t("#you-search-btn").on("click",u),t("#you-search-lat val").html("search..."),t("#you-search-long val").html("search...");var e=t.ajax({method:"GET",url:"https://covidnow.com/api/v1/global/stats",dataType:"json"}),o=t.ajax({method:"GET",url:"https://covidnow.com/api/v1/global/countries",dataType:"json"}),r=t.ajax({method:"GET",url:"https://covidnow.com/api/v1/news/usa",dataType:"json"}),c=t.ajax({method:"GET",url:"https://covidnow.com/api/v1/usa/cases",dataType:"json"});e.fail((function(t,e,o){return console.error(t,e,o)})),o.fail((function(t,e,o){return console.error(t,e,o)})),r.fail((function(t,e,o){return console.error(t,e,o)})),c.fail((function(t,e,o){return console.error(t,e,o)})),e.done((function(e){var o=e.total,r=e.deaths,a=e.recovered;s.global.stats=e,t("#stats-last-update span").text(n.formatDate(o.ts)),t("#stats-confirmed-total").text(n.commas(o.val)),t("#stats-deaths-total").text(n.commas(r.val)),t("#stats-recov-total").text(n.commas(a.val));var c={fatality:n.percent(r,o.val),recovery:n.percent(a,o.val)};t("#stats-fatality-rate span").text(c.fatality),t("#stats-recovery-rate span").text(c.recovery)})),o.done((function(e){var o=e.countries;s.global.countries=e.countries;var r=Object.keys(o).length-1;t("#stats-confirmed-countries span").text(r);["deaths","recovered","total"].forEach((function(e){var r=e;"total"===r&&(r="confirmed"),o.sort((function(t,e){return t[r]<e[r]?1:t[r]>e[r]?-1:0}));var a=o.slice(0,10),c=t("#stats-top-countries-".concat(e));c.html(""),a.forEach((function(t){var o=t.country,a=t[r],i={global:"&nbsp;",country:"&nbsp;"};["deaths","recovered"].includes(e)?(i.global=n.percent(a,s.global.stats[e].val)+"%",i.country=n.percent(a,t.confirmed)+"%"):i.country=n.percent(a,s.global.stats[e].val)+"%";var l="<li>"+'<div class="hero-fc-top-name">'.concat(o,"</div>")+'<div class="hero-fc-top-num num">'.concat(n.commas(a),"</div>")+'<div class="hero-fc-top-rates">'+'<span class="glob">'.concat(i.global,"</span>")+'<span class="perc">'.concat(i.country,"</span>")+"</div></li>";c.append(l)}))}));var a=t("#hero-countries-table-body");t("#hero-countries-loading").addClass("loaded"),a.html(""),o.forEach((function(t){var e=t.country,o=t.confirmed,r=t.deaths,n=t.recovered,c='<div class="hero-country">'+'<div class="hero-country-name">'.concat(e,"</div>")+'<div class="hero-country-val total">'.concat(o,"</div>")+'<div class="hero-country-val deaths">'.concat(r,"</div>")+'<div class="hero-country-val recov">'.concat(n,"</div>")+'<div class="hero-country-dummy"></div></div>';a.append(c)}))})),r.done((function(e){t("#hero-news-list").html(""),e.__sorted.forEach((function(o){var r=e[o],a="<li>"+'<div class="pubdate">'.concat(n.formatDate(r.pubDate),"</div>")+'<div class="headline">'.concat(r.html,"</div>")+"</li>";t("#hero-news-list").append(a)}))})),c.done((function(e){var o=e.raw.data;o=Object.values(o).reverse().slice(0,50),t("#hero-cases-list").html(""),o.forEach((function(e){var o=a()(e,8),r=(o[0],o[1]),c=o[2],s=o[3],i=(o[4],o[5],o[6]),l=o[7],u=c+", "+s,d=l.replace(/^www./,""),f="<li>"+'<div class="pubdate">'.concat(n.formatDate(r,!1),"</div>")+'<div class="headline">'.concat(i,"</div>")+'<div class="location">'.concat(u,"</div>")+'<div class="source"> &mdash; <a href="'.concat("https://"+l||!1,'" target="_blank" rel="noopener">').concat(d,"</a></div>")+"</li>";t("#hero-cases-list").append(f)}))}))}(jQuery)},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var o=[],r=!0,a=!1,n=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done)&&(o.push(c.value),!e||o.length!==e);r=!0);}catch(t){a=!0,n=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}return o}}},function(t,e,o){var r=o(17);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2xpYi9qcy91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9saWIvanMvY3VzdG9tL2hvbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVJlc3QuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmb3JtYXREYXRlIiwidGltZSIsImRpc3BsYXlUaW1lIiwiZE9iaiIsIkRhdGUiLCJtb250aCIsImdldE1vbnRoIiwiZGF0ZSIsImdldERhdGUiLCJsb25nIiwiaHJzIiwiZ2V0SG91cnMiLCJtaW5zIiwiZ2V0TWludXRlcyIsImFtcG0iLCJzdHJUaW1lIiwic2hvcnQiLCJjb21tYXMiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJwZXJjZW50IiwibnVtZSIsImRlbm8iLCJmaXhlZCIsInBlcmMiLCJudW0iLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInRvRml4ZWQiLCJ1bmRlZmluZWQiLCJhcnJheVdpdGhIb2xlcyIsIml0ZXJhYmxlVG9BcnJheUxpbWl0IiwidW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVJlc3QiLCJhcnIiLCJjZEZldGNoIiwia2V5cyIsImNvdW50cmllc0pTT04iLCJnbG9iYWwiLCJ1c2EiLCJsb2FkR2VvZGF0YSIsImRhdGEiLCJsYXQiLCJsbmciLCJpbmZvIiwiY2FzZXMiLCIkIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInRleHQiLCJjb3VudHkiLCJzdGF0ZSIsImNvbmZpcm1lZCIsImRlYXRocyIsImFkZHJTZWFyY2hpbmciLCJhZGRyU2VhcmNoIiwidmFsIiwiaHRtbCIsImFqYXgxIiwiYWpheCIsIm1ldGhvZCIsInVybCIsImFwaUJhc2VMb2NhbCIsImFkZHJlc3MiLCJkYXRhVHlwZSIsImRvbmUiLCJmYWlsIiwiYSIsImIiLCJjb25zb2xlIiwiZXJyb3IiLCJrZXlkb3duIiwiZSIsImtleUNvZGUiLCJvbiIsImFwaUJhc2VHbG9iYWwiLCJhamF4MiIsImFqYXgzIiwiYXBpQmFzZU5ld3MiLCJhamF4NCIsImFwaUJhc2VVU0EiLCJyZXMiLCJ0b3RhbCIsInJlY292ZXJlZCIsInN0YXRzIiwidXRpbHMiLCJ0cyIsInJhdGUiLCJmYXRhbGl0eSIsInJlY292ZXJ5IiwiY291bnRyaWVzIiwiY291bnRyeUNvdW50IiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9rZXkiLCJzb3J0IiwidG9wMTAiLCJzbGljZSIsIiR0b3AiLCJjdERhdGEiLCJjdE5hbWUiLCJjb3VudHJ5IiwiaW5jbHVkZXMiLCJ0ZW1wbGF0ZSIsImFwcGVuZCIsIiRjb3VudHJpZXMiLCJfX3NvcnRlZCIsIm5ld3MiLCJwdWJEYXRlIiwicmR0cyIsInJhdyIsInZhbHVlcyIsInJldmVyc2UiLCJyZHQiLCJoZWFkbGluZSIsInNvdXJjZSIsImxvY2F0aW9uIiwic3JjTmFtZSIsImpRdWVyeSIsIkFycmF5IiwiaXNBcnJheSIsIml0ZXJhdG9yIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJuZXh0IiwicHVzaCIsImVyciIsImFycmF5TGlrZVRvQXJyYXkiLCJtaW5MZW4iLCJjb25zdHJ1Y3RvciIsImZyb20iLCJ0ZXN0IiwibGVuIiwiYXJyMiIsIlR5cGVFcnJvciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3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LElBQUk1SCxFQUFJLEVBQUd5SyxFQUFPLElBQUlsQixNQUFNaUIsR0FBTXhLLEVBQUl3SyxFQUFLeEssSUFDOUN5SyxFQUFLekssR0FBS2tFLEVBQUlsRSxHQUdoQixPQUFPeUssSSxjQ0hUMUssRUFBT0QsUUFKUCxXQUNFLE1BQU0sSUFBSTRLLFVBQVUiLCJmaWxlIjoiaG9tZS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTMpO1xuIiwiaW1wb3J0IG1vbnRocyBmcm9tICcuLi8uLi9qc29uL21vbnRocy5qc29uJztcblxuLypcbiAgICBGb3JtYXRzIGRhdGUgdG9cbiAgICAgICdNb250aChzaG9ydCkgRGF0ZSwgVGltZScgb3IgJ01vbnRoKGxvbmcpIERhdGUnXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUodGltZSwgZGlzcGxheVRpbWU9dHJ1ZSl7XG4gIGNvbnN0IGRPYmogPSBuZXcgRGF0ZSh0aW1lKSwgbW9udGggPSBkT2JqLmdldE1vbnRoKCksIGRhdGUgPSBkT2JqLmdldERhdGUoKTtcblxuICAvLyBubyB0aW1lXG4gIGlmICghZGlzcGxheVRpbWUpIHJldHVybiBgJHttb250aHMubG9uZ1ttb250aF19ICR7ZGF0ZX1gO1xuXG4gIGxldCBocnMgPSBkT2JqLmdldEhvdXJzKCksIG1pbnMgPSBkT2JqLmdldE1pbnV0ZXMoKSwgYW1wbSA9IGhycyA+PSAxMiA/ICdwbScgOiAnYW0nO1xuICBocnMgPSBocnMgJSAxMjtcbiAgaHJzID0gaHJzID8gaHJzIDogMTI7IC8vIHRoZSBob3VyICcwJyBzaG91bGQgYmUgJzEyJ1xuICBtaW5zID0gbWlucyA8IDEwID8gJzAnK21pbnMgOiBtaW5zO1xuICBjb25zdCBzdHJUaW1lID0gYCR7aHJzfToke21pbnN9ICR7YW1wbX1gO1xuICByZXR1cm4gYCR7bW9udGhzLnNob3J0W21vbnRoXX0gJHtkYXRlfSwgJHtzdHJUaW1lfWA7XG59O1xuXG4vKlxuICAgIEluc2VydHMgY29tbWFzIGludG8gbnVtYmVyc1xuICAgIGlucHV0OiAxMjM0NTYgKG51bSlcbiAgICBvdXRwdXQ6IDEyMyw0NTYgKHN0cilcbiovXG5leHBvcnQgZnVuY3Rpb24gY29tbWFzKG4pe1xuICByZXR1cm4gbi50b1N0cmluZygpLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csICcsJyk7XG59XG5cbi8qXG4gICAgRXZhbHVhdGUgcGVyY2VudGFnZSBmcm9tIHR3byBudW1iZXJzXG4gICAgaW5wdXQ6IG51bWVyYXRvciwgZGVub21pbmF0b3JcbiAgICBvdXRwdXQ6IG51bWVyYXRvci9kZW5vbWluYXRvciAlXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcmNlbnQobnVtZSwgZGVubywgZml4ZWQ9Mil7XG4gIGxldCBwZXJjO1xuICBpZiAodHlwZW9mIG51bSAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGRlbm8gIT09ICdudW1iZXInKSBwZXJjID0gTnVtYmVyKG51bWUpL051bWJlcihkZW5vKSoxMDA7XG4gIGVsc2UgcGVyYyA9IG51bWUvZGVubyoxMDA7XG5cbiAgcmV0dXJuIGlzRmluaXRlKHBlcmMpID8gcGVyYy50b0ZpeGVkKGZpeGVkKSA6IHVuZGVmaW5lZDtcbn1cbiIsInZhciBhcnJheVdpdGhIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aEhvbGVzXCIpO1xuXG52YXIgaXRlcmFibGVUb0FycmF5TGltaXQgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdFwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVJlc3QgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVJlc3RcIik7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdFxuICBhcGlCYXNlID0gcHJvY2Vzcy5lbnYuQVBJX1VSTCsnYXBpLycsXG4gIGFwaUJhc2VOZXdzID0gcHJvY2Vzcy5lbnYuQVBJX1VSTF9ORVdTKydhcGkvJyxcbiAgYXBpQmFzZUdsb2JhbCA9IHByb2Nlc3MuZW52LkFQSV9VUkxfR0xPQkFMKydhcGkvJyxcbiAgYXBpQmFzZVVTQSA9IHByb2Nlc3MuZW52LkFQSV9VUkxfVVNBKydhcGkvJyxcbiAgYXBpQmFzZUxvY2FsID0gcHJvY2Vzcy5lbnYuQVBJX1VSTF9MT0NBTCsnYXBpLyc7XG5cbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBjb3VudHJpZXNKU09OIGZyb20gJy4uLy4uL2pzb24vY291bnRyaWVzLmpzb24nO1xuXG5jb25zdCBjb3VudHJpZXNKU09OXyA9IE9iamVjdC5rZXlzKGNvdW50cmllc0pTT04pO1xuXG5jb25zdCBjZEZldGNoID0ge1xuICBnbG9iYWw6IHt9LFxuICB1c2E6IHt9LFxufTsgLy8gY29yZSBkYXRhIGZldGNoXG5cbmZ1bmN0aW9uIGdlb2xvY1N1Y2Nlc3MocG9zKXtcbiAgY29uc3QgbGF0ID0gcG9zLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZyA9IHBvcy5jb29yZHMubG9uZ2l0dWRlO1xuICAkKCcjeW91LXNlYXJjaC1sYXQgdmFsJykuaHRtbChsYXQpO1xuICAkKCcjeW91LXNlYXJjaC1sb25nIHZhbCcpLmh0bWwobG9uZyk7XG4gIGNvbnNvbGUubG9nKHBvcy5jb29yZHMpO1xuICBjb25zdCBhamF4MSA9ICQuYWpheCh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6IGFwaUJhc2UrJ215L2dlb0Rpc3RhbmNlcycsXG4gICAgZGF0YToge2xhdCwgbG9uZ30sXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgfSk7XG4gIGFqYXgxLmRvbmUoZGF0YSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2F1dG8gZ2VvbG9jJywgZGF0YSk7XG4gICAgbG9hZEdlb2RhdGEoZGF0YSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZW9sb2NFcnJvcigpe1xuICAkKCcjeW91LXNlYXJjaC1sYXQgdmFsJykuaHRtbCgnbG9jYXRpbmcgZmFpbGVkLi4uJyk7XG4gICQoJyN5b3Utc2VhcmNoLWxvbmcgdmFsJykuaHRtbCgnbG9jYXRpbmcgZmFpbGVkLi4uJyk7XG59XG5cbmZ1bmN0aW9uIGxvYWRHZW9kYXRhKGRhdGEpe1xuICBjb25zdCB7bGF0LCBsbmc6IGxvbmcsIGluZm8sIGNhc2VzfSA9IGRhdGE7XG4gIGlmICghbGF0ICYmICFsb25nKSAkKCcjeW91LXNlYXJjaC1pbnZhbGlkJykuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgZWxzZSAkKCcjeW91LXNlYXJjaC1pbnZhbGlkJykucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgJCgnI3lvdS1zZWFyY2gtbGF0IHZhbCcpLnRleHQobGF0KTtcbiAgJCgnI3lvdS1zZWFyY2gtbG9uZyB2YWwnKS50ZXh0KGxvbmcpO1xuICAvLyAkKCcjeW91LXNlYXJjaC1uYW1lIHZhbCcpLnRleHQoaW5mby5sb2NhbGl0eSsnLCAnK2luZm8uc3RhdGUpO1xuXG4gIGNvbnN0IHtjb3VudHksIHN0YXRlfSA9IGluZm87XG4gIC8vIGNvbnNvbGUubG9nKGNhc2VzKTtcbiAgLy8gZml4IG5hbWVzXG4gICQoJyNnZW9sb2MtY291bnR5LW5hbWUnKS50ZXh0KGNvdW50eSk7XG4gICQoJyNnZW9sb2Mtc3RhdGUtbmFtZSBzcGFuJykudGV4dChzdGF0ZSk7XG4gIC8vIGNvdW50eVxuICAkKCcjZ2VvbG9jLWNvdW50eSAuY29uZmlybWVkIC5udW0nKS50ZXh0KGNhc2VzLmNvdW50eS5jb25maXJtZWQpO1xuICAkKCcjZ2VvbG9jLWNvdW50eSAuZGVhdGhzIC5udW0nKS50ZXh0KGNhc2VzLmNvdW50eS5kZWF0aHMpO1xuICAvLyBzdGF0ZVxuICAkKCcjZ2VvbG9jLXN0YXRlIC5jb25maXJtZWQgLm51bScpLnRleHQoY2FzZXMuc3RhdGUuY29uZmlybWVkKTtcbiAgJCgnI2dlb2xvYy1zdGF0ZSAuZGVhdGhzIC5udW0nKS50ZXh0KGNhc2VzLnN0YXRlLmRlYXRocyk7XG59XG5cbmxldCBhZGRyU2VhcmNoaW5nID0gZmFsc2U7XG5mdW5jdGlvbiBhZGRyU2VhcmNoKCl7XG4gIGlmIChhZGRyU2VhcmNoaW5nKSByZXR1cm4gZmFsc2U7XG4gIGFkZHJTZWFyY2hpbmcgPSB0cnVlO1xuICBjb25zdCB2YWwgPSAkKCcjeW91LXNlYXJjaC1iYXInKS52YWwoKTtcbiAgJCgnI3lvdS1zZWFyY2gtYnRuJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICQoJyN5b3Utc2VhcmNoLWludmFsaWQnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAkKCcjeW91LXNlYXJjaC1sYXQgdmFsJykuaHRtbCgnbG9jYXRpbmcuLi4nKTtcbiAgJCgnI3lvdS1zZWFyY2gtbG9uZyB2YWwnKS5odG1sKCdsb2NhdGluZy4uLicpO1xuXG4gIGNvbnN0IGFqYXgxID0gJC5hamF4KHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogYXBpQmFzZUxvY2FsKyd2MS9sb2NhbC9maW5kZXInLFxuICAgIGRhdGE6IHthZGRyZXNzOiB2YWx9LFxuICAgIGRhdGFUeXBlOiAnanNvbicsXG4gIH0pO1xuICBhamF4MS5kb25lKGRhdGEgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIGFkZHJTZWFyY2hpbmcgPSBmYWxzZTtcbiAgICAkKCcjeW91LXNlYXJjaC1idG4nKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICBsb2FkR2VvZGF0YShkYXRhKTtcbiAgfSk7XG4gIGFqYXgxLmZhaWwoKGEsIGIsIGMpID0+IGNvbnNvbGUuZXJyb3IoYSwgYiwgYykpO1xufVxuXG4oZnVuY3Rpb24oJCl7XG5cblxuICAvKlxuICAgICAgQWRkcmVzcyBjYXNlcyBsb29rIHVwXG4gICAgICAjMTogcHJlc3MgJ2VudGVyJyBrZXkgaW4gdGhlIHNlYXJjaCBiYXJcbiAgICAgICMyOiBwcmVzcyB0aGUgJ3NlYXJjaCcgYnV0dG9uXG4gICovXG4gICQoJyN5b3Utc2VhcmNoLWJhcicpLmtleWRvd24oZSA9PiB7XG4gICAgaWYgKGUua2V5Q29kZSA9PSAxMykgYWRkclNlYXJjaCgpO1xuICB9KTtcblxuICAkKCcjeW91LXNlYXJjaC1idG4nKS5vbignY2xpY2snLCBhZGRyU2VhcmNoKTtcblxuICAvLyBvZmYgZm9yIG5vdywgc3VwcG9ydCBvbmx5IGFkZHJlc3NcbiAgJCgnI3lvdS1zZWFyY2gtbGF0IHZhbCcpLmh0bWwoJ3NlYXJjaC4uLicpO1xuICAkKCcjeW91LXNlYXJjaC1sb25nIHZhbCcpLmh0bWwoJ3NlYXJjaC4uLicpO1xuICAvLyBpZiAoIW5hdmlnYXRvci5nZW9sb2NhdGlvbil7XG4gIC8vICAgY29uc29sZS5sb2coJ0dlb2xvY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyJyk7XG4gIC8vICAgJCgnI3lvdS1zZWFyY2gtbGF0IHZhbCcpLmh0bWwoJ25vdCBzdXBwb3J0ZWQnKTtcbiAgLy8gICAkKCcjeW91LXNlYXJjaC1sb25nIHZhbCcpLmh0bWwoJ25vdCBzdXBwb3J0ZWQnKTtcbiAgLy8gfSBlbHNlIHtcbiAgLy8gICAkKCcjeW91LXNlYXJjaC1sYXQgdmFsJykuaHRtbCgnbG9jYXRpbmcuLi4nKTtcbiAgLy8gICAkKCcjeW91LXNlYXJjaC1sb25nIHZhbCcpLmh0bWwoJ2xvY2F0aW5nLi4uJyk7XG4gIC8vICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihnZW9sb2NTdWNjZXNzLCBnZW9sb2NFcnJvcik7XG4gIC8vIH1cblxuICBjb25zdCBhamF4MSA9ICQuYWpheCh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6IGFwaUJhc2VHbG9iYWwrJ3YxL2dsb2JhbC9zdGF0cycsXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgfSk7XG5cbiAgY29uc3QgYWpheDIgPSAkLmFqYXgoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiBhcGlCYXNlR2xvYmFsKyd2MS9nbG9iYWwvY291bnRyaWVzJyxcbiAgICBkYXRhVHlwZTogJ2pzb24nLFxuICB9KTtcblxuICBjb25zdCBhamF4MyA9ICQuYWpheCh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6IGFwaUJhc2VOZXdzKyd2MS9uZXdzL3VzYScsXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgfSk7XG5cbiAgY29uc3QgYWpheDQgPSAkLmFqYXgoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiBhcGlCYXNlVVNBKyd2MS91c2EvY2FzZXMnLFxuICAgIGRhdGFUeXBlOiAnanNvbicsXG4gIH0pO1xuXG4gIGFqYXgxLmZhaWwoKGEsIGIsIGMpID0+IGNvbnNvbGUuZXJyb3IoYSwgYiwgYykpO1xuICBhamF4Mi5mYWlsKChhLCBiLCBjKSA9PiBjb25zb2xlLmVycm9yKGEsIGIsIGMpKTtcbiAgYWpheDMuZmFpbCgoYSwgYiwgYykgPT4gY29uc29sZS5lcnJvcihhLCBiLCBjKSk7XG4gIGFqYXg0LmZhaWwoKGEsIGIsIGMpID0+IGNvbnNvbGUuZXJyb3IoYSwgYiwgYykpO1xuXG4gIC8qXG4gICAgICBHbG9iYWwgc3RhdHNcbiAgKi9cbiAgYWpheDEuZG9uZShyZXMgPT4ge1xuICAgIGNvbnN0IHt0b3RhbCwgZGVhdGhzLCByZWNvdmVyZWR9ID0gcmVzO1xuICAgIGNkRmV0Y2guZ2xvYmFsLnN0YXRzID0gcmVzO1xuXG4gICAgLypcbiAgICAgICAgVXBkYXRlIGdsb2JhbCBzdGF0c1xuICAgICovXG4gICAgLy8gdXNlIHRzIGZyb20gdG90YWxcbiAgICAkKCcjc3RhdHMtbGFzdC11cGRhdGUgc3BhbicpLnRleHQodXRpbHMuZm9ybWF0RGF0ZSh0b3RhbC50cykpO1xuICAgICQoJyNzdGF0cy1jb25maXJtZWQtdG90YWwnKS50ZXh0KHV0aWxzLmNvbW1hcyh0b3RhbC52YWwpKTtcbiAgICAkKCcjc3RhdHMtZGVhdGhzLXRvdGFsJykudGV4dCh1dGlscy5jb21tYXMoZGVhdGhzLnZhbCkpO1xuICAgICQoJyNzdGF0cy1yZWNvdi10b3RhbCcpLnRleHQodXRpbHMuY29tbWFzKHJlY292ZXJlZC52YWwpKTtcblxuICAgIC8qXG4gICAgICAgIENhbHVsYXRlIHJhdGVcbiAgICAqL1xuICAgIGNvbnN0IHJhdGUgPSB7XG4gICAgICBmYXRhbGl0eTogdXRpbHMucGVyY2VudChkZWF0aHMsIHRvdGFsLnZhbCksXG4gICAgICByZWNvdmVyeTogdXRpbHMucGVyY2VudChyZWNvdmVyZWQsIHRvdGFsLnZhbCksXG4gICAgfTtcbiAgICAkKCcjc3RhdHMtZmF0YWxpdHktcmF0ZSBzcGFuJykudGV4dChyYXRlLmZhdGFsaXR5KTtcbiAgICAkKCcjc3RhdHMtcmVjb3ZlcnktcmF0ZSBzcGFuJykudGV4dChyYXRlLnJlY292ZXJ5KTtcbiAgfSk7XG5cblxuICAvKlxuICAgICAgR2xvYmFsIGNvdW50cmllc1xuICAqL1xuICBhamF4Mi5kb25lKHJlcyA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHJlcy5jb3VudHJpZXM7XG4gICAgY2RGZXRjaC5nbG9iYWwuY291bnRyaWVzID0gcmVzLmNvdW50cmllcztcblxuICAgIC8qXG4gICAgICAgIEdsb2JhbCBjb3VudHJ5IGNvdW50XG4gICAgKi9cbiAgICBjb25zdCBjb3VudHJ5Q291bnQgPSBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggLSAxOyAvLyAtMSBpcyBEaWFtb25kIFByaW5jZXNzXG4gICAgJCgnI3N0YXRzLWNvbmZpcm1lZC1jb3VudHJpZXMgc3BhbicpLnRleHQoY291bnRyeUNvdW50KTtcblxuICAgIC8qXG4gICAgICAgIFNvcnQgY291bnRyaWVzIGJ5IGNvbmZpcm1lZCwgZGVhdGhzLCBhbmQgcmVjb3ZlcmVkXG4gICAgICAgIChwdXQgdG90YWwgYXQgbGFzdCB0byBzYXZlIHRoYXQgc29ydGVkIGFycilcbiAgICAqL1xuICAgIGNvbnN0IHNvcnRLZXlzID0gWydkZWF0aHMnLCAncmVjb3ZlcmVkJywgJ3RvdGFsJ107XG5cbiAgICBzb3J0S2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBsZXQgX2tleSA9IGtleTtcbiAgICAgIGlmIChfa2V5ID09PSAndG90YWwnKSBfa2V5ID0gJ2NvbmZpcm1lZCc7IC8vIHRvdGFsIC0+IGNvbmZpcm1lZFxuXG4gICAgICAvLyBzb3J0IGJhc2VkIG9uIGtleSB2YWx1ZSAoZGVhdGhzL3JlY292ZXJlZC9jb25maXJtZWQpXG4gICAgICBkYXRhLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGFbX2tleV0gPCBiW19rZXldID8gMSA6IGFbX2tleV0gPiBiW19rZXldID8gLTEgOiAwO1xuICAgICAgfSk7XG5cbiAgICAgIC8qXG4gICAgICAgICAgVG9wIDEwIHRhYmxlIGZvciAoZGVhdGgvcmVjb3ZlcmVkL2NvbmZpcm1lZClcbiAgICAgICovXG4gICAgICBjb25zdCB0b3AxMCA9IGRhdGEuc2xpY2UoMCwgMTApLCAkdG9wID0gJChgI3N0YXRzLXRvcC1jb3VudHJpZXMtJHtrZXl9YCk7XG4gICAgICAkdG9wLmh0bWwoJycpO1xuICAgICAgdG9wMTAuZm9yRWFjaChjdERhdGEgPT4ge1xuICAgICAgICBjb25zdCB7Y291bnRyeTogY3ROYW1lfSA9IGN0RGF0YSwgdmFsID0gY3REYXRhW19rZXldO1xuXG4gICAgICAgIC8vIGluaXRpYWxpemUgd2l0aCBzcGFjZSAodnMuIGdsb2JhbFtrZXldICYgY291bnRyeS50b3RhbClcbiAgICAgICAgY29uc3QgcGVyYyA9IHtnbG9iYWw6ICcmbmJzcDsnLCBjb3VudHJ5OiAnJm5ic3A7J307XG5cbiAgICAgICAgLy8gY29tcGFyZSBlYWNoIGNvdW50cnkgdG8gZ2xvYmFsW2tleV0gJiBjb3VudHJ5LnRvdGFsIGRhdGFcbiAgICAgICAgLy8gbG9jYWwgY29tcGFyaXNvbiBpcyBvbmx5IGZvciBkZWF0aHMvcmVjb3ZlcmVkXG4gICAgICAgIGlmIChbJ2RlYXRocycsICdyZWNvdmVyZWQnXS5pbmNsdWRlcyhrZXkpKXtcbiAgICAgICAgICBwZXJjLmdsb2JhbCA9IHV0aWxzLnBlcmNlbnQodmFsLCBjZEZldGNoLmdsb2JhbC5zdGF0c1trZXldLnZhbCkrJyUnO1xuICAgICAgICAgIHBlcmMuY291bnRyeSA9IHV0aWxzLnBlcmNlbnQodmFsLCBjdERhdGEuY29uZmlybWVkKSsnJSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZm9yIGFzdGhldGljcyBwdXJwb3NlcywgbWFrZSBjb3VudHJ5J3MgY29uZmlybWVkICUgb2YgZ2xvYmFsXG4gICAgICAgICAgLy8gZmxvYXQgcmlnaHQgKHBlcmMuY291bnRyeSBkb2VzIHRoYXQpXG4gICAgICAgICAgcGVyYy5jb3VudHJ5ID0gdXRpbHMucGVyY2VudCh2YWwsIGNkRmV0Y2guZ2xvYmFsLnN0YXRzW2tleV0udmFsKSsnJSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcmVwYXJlICYgYXBwZW5kIHRlbXBsYXRlXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gJzxsaT4nK1xuICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiaGVyby1mYy10b3AtbmFtZVwiPiR7Y3ROYW1lfTwvZGl2PmArXG4gICAgICAgICAgYDxkaXYgY2xhc3M9XCJoZXJvLWZjLXRvcC1udW0gbnVtXCI+JHt1dGlscy5jb21tYXModmFsKX08L2Rpdj5gK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaGVyby1mYy10b3AtcmF0ZXNcIj4nK1xuICAgICAgICAgICAgYDxzcGFuIGNsYXNzPVwiZ2xvYlwiPiR7cGVyYy5nbG9iYWx9PC9zcGFuPmArXG4gICAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJwZXJjXCI+JHtwZXJjLmNvdW50cnl9PC9zcGFuPmArXG4gICAgICAgICAgJzwvZGl2PicrXG4gICAgICAgICc8L2xpPic7XG4gICAgICAgICR0b3AuYXBwZW5kKHRlbXBsYXRlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLypcbiAgICAgICAgQWxsIGNvdW50cmllcyB0YWJsZVxuICAgICAgICAoc29ydGVkIGJ5IHRvdGFsICMgZGVzYylcbiAgICAqL1xuICAgIGNvbnN0ICRjb3VudHJpZXMgPSAkKCcjaGVyby1jb3VudHJpZXMtdGFibGUtYm9keScpO1xuICAgICQoJyNoZXJvLWNvdW50cmllcy1sb2FkaW5nJykuYWRkQ2xhc3MoJ2xvYWRlZCcpO1xuXG4gICAgLy8gYmxvYkN1dCA9IE1hdGguY2VpbCgoY3RTb3J0LnRvdGFsLmxlbmd0aCkgLyAyKSwgLy8gYWNjb3VudHMgZm9yIF9vdGhlcnNcbiAgICAvLyBuQmxvYnMgPSBbY3RTb3J0LnRvdGFsLnNsaWNlKDAsIGJsb2JDdXQpLCBjdFNvcnQudG90YWwuc2xpY2UoYmxvYkN1dCwgLTEpXSxcbiAgICAvLyBhbHRlcm5hdGUgYmxvYiBjb250ZW50XG4gICAgLy8gYWx0ZXJuYXRlZENOYW1lc18gPSBuQmxvYnMucmVkdWNlKCh0LCB1LCB2LCB3KSA9PiB1LnJlZHVjZSgoeCwgeSwgeikgPT4gKHhbeiAqIHcubGVuZ3RoICsgdl0gPSB5LCB4KSwgdCksIFtdKTtcblxuICAgICRjb3VudHJpZXMuaHRtbCgnJyk7XG4gICAgZGF0YS5mb3JFYWNoKGN0RGF0YSA9PiB7XG4gICAgICAvLyBpZiAoZGF0YVtjdE5hbWVdKSBjb25zb2xlLmxvZyhkYXRhW2N0TmFtZV0ubmF0aW9ud2lkZSk7XG4gICAgICAvLyBlbHNlIGNvbnNvbGUubG9nKGN0TmFtZSk7XG4gICAgICBjb25zdCB7Y291bnRyeTogY3ROYW1lLCBjb25maXJtZWQsIGRlYXRocywgcmVjb3ZlcmVkfSA9IGN0RGF0YTtcblxuICAgICAgLy8gcHJlcGFyZSAmIGFwcGVuZCB0ZW1wbGF0ZVxuICAgICAgY29uc3QgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImhlcm8tY291bnRyeVwiPicrXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwiaGVyby1jb3VudHJ5LW5hbWVcIj4ke2N0TmFtZX08L2Rpdj5gK1xuICAgICAgICBgPGRpdiBjbGFzcz1cImhlcm8tY291bnRyeS12YWwgdG90YWxcIj4ke2NvbmZpcm1lZH08L2Rpdj5gK1xuICAgICAgICBgPGRpdiBjbGFzcz1cImhlcm8tY291bnRyeS12YWwgZGVhdGhzXCI+JHtkZWF0aHN9PC9kaXY+YCtcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJoZXJvLWNvdW50cnktdmFsIHJlY292XCI+JHtyZWNvdmVyZWR9PC9kaXY+YCtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJoZXJvLWNvdW50cnktZHVtbXlcIj48L2Rpdj4nKyAvLyBkdW1teVxuICAgICAgJzwvZGl2Pic7XG4gICAgICAkY291bnRyaWVzLmFwcGVuZCh0ZW1wbGF0ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qXG4gICAgICBOZXdzXG4gICovXG4gIGFqYXgzLmRvbmUoZGF0YSA9PiB7XG4gICAgJCgnI2hlcm8tbmV3cy1saXN0JykuaHRtbCgnJyk7XG4gICAgZGF0YS5fX3NvcnRlZC5mb3JFYWNoKHRzID0+IHtcbiAgICAgIGNvbnN0IG5ld3MgPSBkYXRhW3RzXTtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gJzxsaT4nK1xuICAgICAgICBgPGRpdiBjbGFzcz1cInB1YmRhdGVcIj4ke3V0aWxzLmZvcm1hdERhdGUobmV3cy5wdWJEYXRlKX08L2Rpdj5gK1xuICAgICAgICBgPGRpdiBjbGFzcz1cImhlYWRsaW5lXCI+JHtuZXdzLmh0bWx9PC9kaXY+YCtcbiAgICAgICc8L2xpPic7XG4gICAgICAkKCcjaGVyby1uZXdzLWxpc3QnKS5hcHBlbmQodGVtcGxhdGUpO1xuICAgIH0pO1xuICB9KTtcblxuICAvKlxuICAgICAgVVNBIGNhc2VzXG4gICovXG4gIGFqYXg0LmRvbmUoZGF0YSA9PiB7XG4gICAgbGV0IHJkdHMgPSBkYXRhLnJhdy5kYXRhO1xuICAgIHJkdHMgPSBPYmplY3QudmFsdWVzKHJkdHMpLnJldmVyc2UoKS5zbGljZSgwLCA1MCk7XG4gICAgJCgnI2hlcm8tY2FzZXMtbGlzdCcpLmh0bWwoJycpO1xuICAgIHJkdHMuZm9yRWFjaChyZHQgPT4ge1xuICAgICAgY29uc3QgW25vLCBkYXRlLCBjb3VudHksIHN0YXRlLCBsbmcsIGxhdCwgaGVhZGxpbmUsIHNvdXJjZV0gPSByZHQ7XG4gICAgICBjb25zdCBsb2NhdGlvbiA9IGNvdW50eSsnLCAnK3N0YXRlO1xuICAgICAgY29uc3Qgc3JjTmFtZSA9IHNvdXJjZS5yZXBsYWNlKC9ed3d3Li8sICcnKTtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gJzxsaT4nK1xuICAgICAgICBgPGRpdiBjbGFzcz1cInB1YmRhdGVcIj4ke3V0aWxzLmZvcm1hdERhdGUoZGF0ZSwgZmFsc2UpfTwvZGl2PmArXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwiaGVhZGxpbmVcIj4ke2hlYWRsaW5lfTwvZGl2PmArXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwibG9jYXRpb25cIj4ke2xvY2F0aW9ufTwvZGl2PmArXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwic291cmNlXCI+ICZtZGFzaDsgPGEgaHJlZj1cIiR7J2h0dHBzOi8vJytzb3VyY2UgfHwgJy4vJ31cIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lclwiPiR7c3JjTmFtZX08L2E+PC9kaXY+YCtcbiAgICAgICc8L2xpPic7XG4gICAgICAkKCcjaGVyby1jYXNlcy1saXN0JykuYXBwZW5kKHRlbXBsYXRlKTtcbiAgICB9KTtcbiAgfSk7XG59KShqUXVlcnkpO1xuIiwiZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhIb2xlczsiLCJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcbiAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2l0ZXJhYmxlVG9BcnJheUxpbWl0OyIsInZhciBhcnJheUxpa2VUb0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlMaWtlVG9BcnJheVwiKTtcblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG4pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXk7IiwiZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5OyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlUmVzdDsiXSwic291cmNlUm9vdCI6IiJ9